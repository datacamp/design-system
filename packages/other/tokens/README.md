# Tokens

Usage documentation is available at [Waffles tokens documentation](https://waffles.datacamp.com/components/tokens/).
It is possible to import tokens either with `import tokens from '@datacamp/waffles-tokens'` or individual groups with `import { colors } from '@datacamp/waffles-tokens'`. Thanks to types definitions tokens auto-completion is supported. Other legacy tokens could be imported from `@datacamp/waffles-tokens/lib/name-of-legacy-tokens-file`.

This package contains all the design tokens used across Waffles, and also the build methods to generate exposed files with these values.

## Structure

### New tokens

The new tokens are generated from `base-tokens.json`. The structure of that file is compatible with [Figma Tokens](https://www.figma.com/community/plugin/843461159747178978/Figma-Tokens) plugin. In the first build step regular JS file (ES module with explicit and default exports) is generated with `build:new-tokens` script, assuming `lib` directory already exists. It serves as a base for transpiling both ESM and CJS modules (with appropriate `build:cjs` and `build:esm` scripts). Last step is to generate TS typings with `build:types`, relaying on `tsconfig.json`.

### Legacy tokens

The legacy tokens are for now kept for backward compatibility reasons. All tokens are stored in the `/properties` directory as json files. On build, these are deep merged and augmented with the transforms. This full data structure is then passed to the formatters to output different files. This is all orchestrated using [Style Dictionary](https://amzn.github.io/style-dictionary/#/) and controlled with the `buildLegacyTokens.js` file.

## Outputs

- **tokens.esm.js** is the main exported tokens file.
- **tokens.d.ts** are autogenerated TS types definitions.
- **core-tokens.json** is the legacy tokens file.
- **future-tokens.json** is the legacy tokens file, used internally by most React components.
- **variables.scss** contains the same data as the **core-tokens** file but exposed as scss variables. This is used in to generate utility classes and stylesheets in other packages.
